<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title><%=title %></title>
  <script src="/jquery"></script>
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <script>
    $(document).ready(function(){
      $('#btn').click(function(){
        var n  = $('#num').val();
        if( n === '' || !n.match(/[0-9]+/i)) {
          return false;
        }
        $.getJSON("/ajax?id=" + n, function(json){
          var msg = '<table>'+
                    '<tr><th>名前</th>'+
                    '<td>'+json.name+'</td></tr>'+
                    '<tr><th>年齢</th>'+
                    '<td>'+json.age+'</td></tr>'+
                    '<tr><th>メールアドレス</th>'+
                    '<td>'+json.email+'</td></tr>'+
                    '</table>';
          $('#msg').html(msg);
        });
      });
    });
  </script>
</head>
<body>
  <header>
    <h1><%=title %></h1>
  </header>
  <div role="main">
    <p><%-content %></p>
    <p id="msg"><%-message %></p>
    <input type="text" name="message" id="num">
    <input type="button" id="btn" value="get">
  </div>
</body>
</html>
